s3 = 0
s2 = 1
s1 = 2
h1 = 3
h4 = 4
h2 = 5
h3 = 6
top = @pt=-1?⋅ε∪(@sw=h3?⋅(@pt=0?⋅(@sw←s3⋅@pt←0))∪@sw=h2?⋅(@pt=0?⋅(@sw←s2⋅@pt←0))∪@sw=h4?⋅(@pt=0?⋅(@sw←s3⋅@pt←2))∪@sw=h1?⋅(@pt=0?⋅(@sw←s2⋅@pt←2))∪@sw=s1?⋅(@pt=1?⋅(@sw←s2⋅@pt←1)∪@pt=0?⋅(@sw←s3⋅@pt←1))∪@sw=s2?⋅(@pt=2?⋅(@sw←h1⋅@pt←0)∪@pt=1?⋅(@sw←s1⋅@pt←1)∪@pt=0?⋅(@sw←h2⋅@pt←0))∪@sw=s3?⋅(@pt=2?⋅(@sw←h4⋅@pt←0)∪@pt=1?⋅(@sw←s1⋅@pt←0)∪@pt=0?⋅(@sw←h3⋅@pt←0)))